<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="landing.html"><strong aria-hidden="true">1.</strong> Ethstaker Deposit CLI</a></li><li class="chapter-item expanded "><a href="quick_setup.html"><strong aria-hidden="true">2.</strong> Quick Setup</a></li><li class="chapter-item expanded affix "><li class="part-title">Commands</li><li class="chapter-item expanded "><a href="new_mnemonic.html"><strong aria-hidden="true">3.</strong> New Mnemonic</a></li><li class="chapter-item expanded "><a href="existing_mnemonic.html"><strong aria-hidden="true">4.</strong> Existing Mnemonic</a></li><li class="chapter-item expanded "><a href="generate_bls_to_execution_change.html"><strong aria-hidden="true">5.</strong> Generate BLS to Execution Change</a></li><li class="chapter-item expanded "><a href="exit_transaction_keystore.html"><strong aria-hidden="true">6.</strong> Exit Transaction Keystore</a></li><li class="chapter-item expanded "><a href="exit_transaction_mnemonic.html"><strong aria-hidden="true">7.</strong> Exit Transaction Mnemonic</a></li><li class="chapter-item expanded "><a href="partial_deposit.html"><strong aria-hidden="true">8.</strong> Partial Deposit</a></li><li class="chapter-item expanded "><a href="test_keystore.html"><strong aria-hidden="true">9.</strong> Test Keystore</a></li><li class="chapter-item expanded affix "><li class="part-title">File formats</li><li class="chapter-item expanded "><a href="keystore_file.html"><strong aria-hidden="true">10.</strong> Keystore</a></li><li class="chapter-item expanded "><a href="deposit_data_file.html"><strong aria-hidden="true">11.</strong> Deposit Data</a></li><li class="chapter-item expanded affix "><li class="part-title">Development</li><li class="chapter-item expanded "><a href="local_development.html"><strong aria-hidden="true">12.</strong> Local Development</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="welcome-to-the-ethstaker-deposit-cli"><a class="header" href="#welcome-to-the-ethstaker-deposit-cli">Welcome to the <code>ethstaker-deposit-cli</code>!</a></h1>
<p>The <a href="https://github.com/eth-educators/ethstaker-deposit-cli"><code>ethstaker-deposit-cli</code></a> is a command-line tool forked from Ethereum's <a href="https://github.com/ethereum/staking-deposit-cli"><code>staking-deposit-cli</code></a> with more functionality and improved performance.</p>
<h2 id="important-concerns"><a class="header" href="#important-concerns">Important Concerns</a></h2>
<p>This tool generates and/or utilizes mnemonics and validator key material. Both are highly sensitive materials, and their exposure could lead to the loss or theft of funds, as well as the compromise of privacy. Users must take appropriate measures to secure this information.</p>
<p>Here are some core recommendations:</p>
<ul>
<li>
<p><strong>Use this tool offline</strong>: We highly recommend using this tool in an offline environment, preferably air-gapped, using a live USB such as <a href="https://tails.net/install/download/index.en.html">Tails</a>.</p>
</li>
<li>
<p><strong>Avoid using passwords or mnemonics as command line arguments</strong>: When executing any command, you will be prompted for the necessary arguments. This prevents the arguments from being stored in your command history which could create an attack vector.</p>
</li>
<li>
<p><strong>Do not expose or share any material</strong>: This tool generates and uses critically secure material that should not be shared or exposed. There is an abundance of thieves that use malicious links and scam tactics to get you to expose sensitive material. Be sure to triple check any tools or websites you are using and remain vigilant.</p>
</li>
<li>
<p><strong>Create backups of your mnemonic</strong>: The mnemonic generated by this tool is essential for your operation and success as a validator. Losing this mnemonic can result in significant financial loss. Carefully follow the instructions when creating a mnemonic, ensure you make a backup copy, and store it in a secure location. For long-term protection, consider using products like CryptoSteel and ColdTi, which offer resistance to the elements.</p>
</li>
</ul>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>If you want to start creating validator keys, please follow the <a href="quick_setup.html">Quick Setup Instructions</a> or if you would like to run locally, view the <a href="local_development.html">Local Development Instructions</a>.</p>
<p>The general usage of the CLI is:</p>
<pre><code class="language-sh">./deposit [OPTIONS] COMMAND [ARGS]
</code></pre>
<h2 id="command-options"><a class="header" href="#command-options">Command Options</a></h2>
<p>Each CLI command has a number of command options that can be provided:</p>
<ul>
<li>
<p><strong><code>--language</code></strong>: The language you wish to use the CLI in. Options: العربية, ελληνικά, English, Français, Bahasa melayu, Italiano, 日本語, 한국어, Português do Brasil, român, 简体中文. Default to English.</p>
</li>
<li>
<p><strong><code>--non_interactive</code></strong>: Run CLI in non-interactive mode. This will skip all confirmation and internet connectivity checks.</p>
</li>
<li>
<p><strong><code>--ignore_connectivity</code></strong>: Skip internet connectivity check and warning.</p>
</li>
</ul>
<h2 id="commands"><a class="header" href="#commands">Commands</a></h2>
<p><strong>You are not required to specify each argument when executing the command. We will prompt you for each argument for security purposes.</strong></p>
<p>If there is a specific command you would like to understand more, please choose from the following list:</p>
<ul>
<li>
<p><strong><a href="new_mnemonic.html">new-mnemonic</a></strong>: Used to generate a new mnemonic, validator keys, and deposit file. It is not recommended to use this command if you have existing validators.</p>
</li>
<li>
<p><strong><a href="existing_mnemonic.html">existing-mnemonic</a></strong>: Provide a mnemonic to regenerate validator keys or create new ones.</p>
</li>
<li>
<p><strong><a href="generate_bls_to_execution_change.html">generate-bls-to-execution-change</a></strong>: Add a withdrawal address to a validator that does not currently have one. It is <strong>required</strong> to have the corresponding mnemonic.</p>
</li>
<li>
<p><strong><a href="generate_bls_to_execution_change_keystore.html">generate-bls-to-execution-change-keystore</a></strong>: Sign an update withdrawal credentials message using your validator keystore.</p>
</li>
<li>
<p><strong><a href="exit_transaction_keystore.html">exit-transaction-keystore</a></strong>: Generate an exit message using the keystore of your validators.</p>
</li>
<li>
<p><strong><a href="exit_transaction_mnemonic.html">exit-transaction-mnemonic</a></strong>: Generate an exit message using the mnemonic of your validators.</p>
</li>
<li>
<p><strong><a href="partial_deposit.html">partial-deposit</a></strong>: Generate a deposit file with an existing validator key. Can be used to initiate a validator or deposit to an existing validator.</p>
</li>
<li>
<p><strong><a href="test_keystore.html">test-keystore</a></strong>: Verify access to the provided keystore file by attempting to decrypt with the provided keystore password.</p>
</li>
</ul>
<h2 id="canonical-deposit-contract-and-launchpad"><a class="header" href="#canonical-deposit-contract-and-launchpad">Canonical Deposit Contract and Launchpad</a></h2>
<p>Ethstaker confirms the canonical Ethereum staking deposit contract addresses and launchpad URLs.
Please be sure that your ETH is deposited only to this deposit contract address, depending on chain.</p>
<p>Depositing to the wrong address <strong>will</strong> lose you your ETH.</p>
<ul>
<li>Ethereum mainnet
<ul>
<li>Deposit address: <a href="https://etherscan.io/address/0x00000000219ab540356cBB839Cbe05303d7705Fa">0x00000000219ab540356cBB839Cbe05303d7705Fa</a></li>
<li><a href="https://launchpad.ethereum.org/">Launchpad</a></li>
</ul>
</li>
<li>Ethereum Holešky (Holešovice) testnet
<ul>
<li>Deposit address: <a href="https://holesky.etherscan.io/address/0x4242424242424242424242424242424242424242">0x4242424242424242424242424242424242424242</a></li>
<li><a href="https://holesky.launchpad.ethereum.org/">Launchpad</a></li>
</ul>
</li>
</ul>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>This project is open-source and welcomes contributions from the community. If you would like to contribute to the <code>ethstaker-deposit-cli</code>, please read the <a href="local_development.html">Local Development Instructions</a>, fork the project, and create a pull request with a description of the changes you have made and why.</p>
<h2 id="support"><a class="header" href="#support">Support</a></h2>
<p>If you encounter any issues or have questions while using the <code>ethstaker-deposit-cli</code>, please contact us on the <a href="https://dsc.gg/ethstaker">Ethstaker discord</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quick-setup"><a class="header" href="#quick-setup">Quick Setup</a></h1>
<p>This guide will walk you through the steps to download and set up the <code>ethstaker-deposit-cli</code> for your operating system.</p>
<h2 id="step-1-download-the-latest-release"><a class="header" href="#step-1-download-the-latest-release">Step 1: Download the Latest Release</a></h2>
<ol>
<li>
<p>Navigate to the <a href="https://github.com/eth-educators/ethstaker-deposit-cli/releases">Releases page</a> of the <code>ethstaker-deposit-cli</code> repository.</p>
</li>
<li>
<p>Download the corresponding file for your operating system:</p>
<ul>
<li><strong>Windows</strong>: Look for a file with <code>windows</code> in the name.</li>
<li><strong>MacOS</strong>: Look for a file with <code>darwin</code> in the name.</li>
<li><strong>Linux</strong>: Look for a file with <code>linux</code> in the name.</li>
</ul>
</li>
<li>
<p>Extract the contents of the zipped file</p>
</li>
<li>
<p>Open a terminal or command prompt and navigate to the extracted folder</p>
</li>
</ol>
<h2 id="step-2-verify-the-installation"><a class="header" href="#step-2-verify-the-installation">Step 2: Verify the Installation</a></h2>
<ol>
<li>
<p>Make sure you have GPG installed.</p>
</li>
<li>
<p>Make sure you have the <code>edc-security@ethstaker.cc</code> public key by running</p>
</li>
</ol>
<pre><code class="language-sh">gpg --keyserver keys.openpgp.org --search-keys 'edc-security@ethstaker.cc'
</code></pre>
<ol start="3">
<li>Verify the signature file against the corresponding file but be sure to replace the contents with the exact file name:</li>
</ol>
<pre><code class="language-sh">gpg --verify staking_deposit-cli-***.asc staking_deposit-cli-***
</code></pre>
<ol start="4">
<li>You should see <code>Good signature from "EDC Security &lt;edc-security@ethstaker.cc&gt;"</code> in the output <strong>otherwise do not continue</strong>.</li>
</ol>
<h2 id="step-3-usage"><a class="header" href="#step-3-usage">Step 3: Usage</a></h2>
<p><strong>Windows users:</strong> You should replace <code>./deposit</code> with <code>deposit.exe</code> to run properly.</p>
<p><strong>MacOS users:</strong> In order to run from the terminal, you must first open the file to bypass MacOS code signing issues. Do so by right clicking the <code>deposit</code> file and then selecting <code>Open</code>.</p>
<p>Determine which command best suites what you would like to accomplish:</p>
<ul>
<li>
<p><strong><a href="new_mnemonic.html">new-mnemonic</a></strong>: Used to generate a new mnemonic, validator keys, and deposit file. It is not recommended to use this command if you have existing validators.</p>
</li>
<li>
<p><strong><a href="existing_mnemonic.html">existing-mnemonic</a></strong>: Provide a mnemonic to regenerate validator keys or create new ones.</p>
</li>
<li>
<p><strong><a href="generate_bls_to_execution_change.html">generate-bls-to-execution-change</a></strong>: Update your withdrawal credentials of existing validators. It is <strong>required</strong> to have the corresponding mnemonic.</p>
</li>
<li>
<p><strong><a href="exit_transaction_keystore.html">exit-transaction-keystore</a></strong>: Generate an exit message using the keystore of your validators.</p>
</li>
<li>
<p><strong><a href="exit_transaction_mnemonic.html">exit-transaction-mnemonic</a></strong>: Generate an exit message using the mnemonic of your validators.</p>
</li>
<li>
<p><strong><a href="partial_deposit.html">partial-deposit</a></strong>: Generate a partial deposit using a validator keystore.</p>
</li>
</ul>
<hr />
<p>If you encounter any issues, please check the <a href="https://github.com/eth-educators/ethstaker-deposit-cli/issues">issues page</a> for help or to report a problem. You may also contact us on the <a href="https://dsc.gg/ethstaker">Ethstaker discord</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="new-mnemonic"><a class="header" href="#new-mnemonic">new-mnemonic</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p>Generates a new BIP-39 mnemonic along with validator keystore and deposit files depending on how many validators you wish to create.</p>
<h2 id="optional-arguments"><a class="header" href="#optional-arguments">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--mnemonic_language</code></strong>: The language of the BIP-39 mnemonic. Options are: 'chinese_simplified', 'chinese_traditional', 'czech', 'english', 'french', 'italian', 'japanese', 'korean', 'portuguese', 'spanish'.</p>
</li>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc...</p>
</li>
<li>
<p><strong><code>--num_validators</code></strong>: Number of validators to create.</p>
</li>
<li>
<p><strong><code>--keystore_password</code></strong>: The password that is used to encrypt the provided keystore. Note: It's not your mnemonic password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--withdrawal_address</code></strong>: The Ethereum address that will be used in withdrawal. It typically starts with '0x' followed by 40 hexadecimal characters. Please make sure you have full control over the address you choose here. Once you set a withdrawal address on chain, it cannot be changed.</p>
</li>
<li>
<p><strong><code>--pbkdf2</code></strong>: Will use pbkdf2 key encryption instead of scrypt for generated keystore files as defined in <a href="https://eips.ethereum.org/EIPS/eip-2335#decryption-key">EIP-2335</a>. This can be a good alternative if you intend to work with a large number of keys, as it can improve performance. pbkdf2 encryption is, however, less secure than scrypt. You should only use this option if you understand the associated risks and have familiarity with encryption.</p>
</li>
<li>
<p><strong><code>--folder</code></strong>: The folder where keystore and deposit data files will be saved.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="output-files"><a class="header" href="#output-files">Output files</a></h2>
<p>A successful call to this command will result in one or many <a href="keystore_file.html">keystore files</a> created, one per validator created, and one <a href="deposit_data_file.html">deposit data file</a> created. The amount for each deposit in the deposit data file should always be 32 Ethers (<code>32000000000</code> in GWEI) with this command.</p>
<h2 id="example-usage"><a class="header" href="#example-usage">Example Usage</a></h2>
<pre><code class="language-sh">./deposit new-mnemonic
</code></pre>
<h2 id="note"><a class="header" href="#note">Note</a></h2>
<p>The newly generated mnemonic <strong>must</strong> be written down, on a piece of paper or transferred to steel. The clipboard is cleared when this command finishes. If the mnemonic is lost and the validator does not have a withdrawal address, funds <strong>cannot</strong> be recovered.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="existing-mnemonic"><a class="header" href="#existing-mnemonic">existing-mnemonic</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-1"><a class="header" href="#description-1">Description</a></h2>
<p>Uses an existing BIP-39 mnemonic phrase for key generation.</p>
<h2 id="optional-arguments-1"><a class="header" href="#optional-arguments-1">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc...</p>
</li>
<li>
<p><strong><code>--mnemonic</code></strong>: The mnemonic you used to create withdrawal credentials. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--mnemonic_password</code></strong>: The mnemonic password you used in your key generation. Note: It's not the keystore password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--validator_start_index</code></strong>: The index of the first validator's keys you wish to generate. If this is your first time generating keys with this mnemonic, use 0. If you have generated keys using this mnemonic before, use the next index from which you want to start generating keys from. As an example if you've generated 4 keys before (keys #0, #1, #2, #3), then enter 4 here.</p>
</li>
<li>
<p><strong><code>--num_validators</code></strong>: Number of validators to create.</p>
</li>
<li>
<p><strong><code>--keystore_password</code></strong>: The password that is used to encrypt the provided keystore. Note: It's not your mnemonic password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--withdrawal_address</code></strong>: The Ethereum address that will be used in withdrawal. It typically starts with '0x' followed by 40 hexadecimal characters. Please make sure you have full control over the address you choose here. Once you set a withdrawal address on chain, it cannot be changed.</p>
</li>
<li>
<p><strong><code>--pbkdf2</code></strong>: Will use pbkdf2 key derivation instead of scrypt for generated keystore files as defined in <a href="https://eips.ethereum.org/EIPS/eip-2335#decryption-key">EIP-2335</a>. This can be a good alternative if you intend to work with a large number of keys, as it can improve performance however it is less secure. You should only use this option if you understand the associated risks and have familiarity with encryption.</p>
</li>
<li>
<p><strong><code>--folder</code></strong>: The folder where keystore and deposit data files will be saved.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="output-files-1"><a class="header" href="#output-files-1">Output files</a></h2>
<p>A successful call to this command will result in one or many <a href="keystore_file.html">keystore files</a> created, one per validator created, and one <a href="deposit_data_file.html">deposit data file</a> created. The amount for each deposit in the deposit data file should always be 32 Ethers (<code>32000000000</code> in GWEI) with this command.</p>
<h2 id="example-usage-1"><a class="header" href="#example-usage-1">Example Usage</a></h2>
<pre><code class="language-sh">./deposit existing-mnemonic
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="generate-bls-to-execution-change"><a class="header" href="#generate-bls-to-execution-change">generate-bls-to-execution-change</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-2"><a class="header" href="#description-2">Description</a></h2>
<p>Generates a BLS to execution address change message. This is used to add a withdrawal address to a validator that does not currently have one.</p>
<h2 id="optional-arguments-2"><a class="header" href="#optional-arguments-2">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--bls_to_execution_changes_folder</code></strong>: The path to store the change JSON file.</p>
</li>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc.</p>
</li>
<li>
<p><strong><code>--mnemonic</code></strong>: The mnemonic you used to create withdrawal credentials. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--mnemonic_password</code></strong>: The mnemonic password you used in your key generation. Note: It's not the keystore password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--validator_start_index</code></strong>: The index position for the keys to start generating withdrawal credentials for.</p>
</li>
<li>
<p><strong><code>--validator_indices</code></strong>: A list of the chosen validator index number(s) as identified on the beacon chain. Split multiple items with whitespaces or commas.</p>
</li>
<li>
<p><strong><code>--bls_withdrawal_credentials_list</code></strong>: A list of the old BLS withdrawal credentials of the given validator(s). It is for confirming you are using the correct keys. Split multiple items with whitespaces or commas.</p>
</li>
<li>
<p><strong><code>--withdrawal_address</code></strong>: The Ethereum address that will be used in withdrawal. It typically starts with '0x' followed by 40 hexadecimal characters. Please make sure you have full control over the address you choose here. Once you set a withdrawal address on chain, it cannot be changed.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="example-usage-2"><a class="header" href="#example-usage-2">Example Usage</a></h2>
<pre><code class="language-sh">./deposit generate-bls-to-execution-change
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exit-transaction-keystore"><a class="header" href="#exit-transaction-keystore">exit-transaction-keystore</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-3"><a class="header" href="#description-3">Description</a></h2>
<p>Creates an exit transaction using a keystore file.</p>
<h2 id="optional-arguments-3"><a class="header" href="#optional-arguments-3">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc.</p>
</li>
<li>
<p><strong><code>--keystore</code></strong>: The keystore file associating with the validator you wish to exit.</p>
</li>
<li>
<p><strong><code>--keystore_password</code></strong>: The password that is used to encrypt the provided keystore. Note: It's not your mnemonic password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--validator_index</code></strong>: The validator index corresponding to the provided keystore.</p>
</li>
<li>
<p><strong><code>--epoch</code></strong>: The epoch of when the exit transaction will be valid. The transaction will always be valid by default.</p>
</li>
<li>
<p><strong><code>--output_folder</code></strong>: The folder path for the <code>signed_exit_transaction-*</code> JSON file.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="example-usage-3"><a class="header" href="#example-usage-3">Example Usage</a></h2>
<pre><code class="language-sh">./deposit exit-transaction-keystore --keystore /path/to/keystore.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exit-transaction-mnemonic"><a class="header" href="#exit-transaction-mnemonic">exit-transaction-mnemonic</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-4"><a class="header" href="#description-4">Description</a></h2>
<p>Creates an exit transaction using a mnemonic phrase.</p>
<h2 id="optional-arguments-4"><a class="header" href="#optional-arguments-4">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc.</p>
</li>
<li>
<p><strong><code>--mnemonic</code></strong>: The mnemonic you used during key generation. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--mnemonic_password</code></strong>: The mnemonic password you used in your key generation. Note: It's not the keystore password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--validator_start_index</code></strong>: The index position for the keys to start generating keystores in <a href="https://eips.ethereum.org/EIPS/eip-2334#eth2-specific-parameters">ERC-2334 format</a> format.</p>
</li>
<li>
<p><strong><code>--validator_indices</code></strong>: A list of the chosen validator index number(s) as identified on the beacon chain. Split multiple items with whitespaces or commas.</p>
</li>
<li>
<p><strong><code>--epoch</code></strong>: The epoch of when the exit transaction will be valid. The transaction will always be valid by default.</p>
</li>
<li>
<p><strong><code>--output_folder</code></strong>: The folder path for the <code>signed_exit_transaction-*</code> JSON file.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="example-usage-4"><a class="header" href="#example-usage-4">Example Usage</a></h2>
<pre><code class="language-sh">./deposit exit-transaction-mnemonic
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="partial-deposit"><a class="header" href="#partial-deposit">partial-deposit</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-5"><a class="header" href="#description-5">Description</a></h2>
<p>Creates a deposit file with an existing validator key. Can be used to initiate a validator or deposit to an existing validator.
If you wish to create a validator with 0x00 credentials, you must use the <strong><a href="new_mnemonic.html">new-mnemonic</a></strong> or the <strong><a href="existing_mnemonic.html">existing-mnemonic</a></strong> command.</p>
<h2 id="optional-arguments-5"><a class="header" href="#optional-arguments-5">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--chain</code></strong>: The chain to use for generating the deposit data. Options are: 'mainnet', 'holesky', etc.</p>
</li>
<li>
<p><strong><code>--keystore</code></strong>: The keystore file associating with the validator you wish to deposit to.</p>
</li>
<li>
<p><strong><code>--keystore_password</code></strong>: The password that is used to encrypt the provided keystore. Note: It's not your mnemonic password. <span class="warning"></span></p>
</li>
<li>
<p><strong><code>--amount</code></strong>: The amount you wish to deposit in ether. Must be at least 1 and can not have precision beyond 1 gwei. Defaults to 32 ether.</p>
</li>
<li>
<p><strong><code>--withdrawal_address</code></strong>: The withdrawal address of the existing validator or the desired withdrawal address.</p>
</li>
<li>
<p><strong><code>--output_folder</code></strong>: The folder path for the <code>deposit-*</code> JSON file.</p>
</li>
<li>
<p><strong><code>--devnet_chain_setting</code></strong>: The custom chain setting of a devnet or testnet. Note that it will override your <code>--chain</code> choice. This should be a JSON string containing an object with the following keys: network_name, genesis_fork_version, exit_fork_version and genesis_validator_root.</p>
</li>
</ul>
<h2 id="output-file"><a class="header" href="#output-file">Output file</a></h2>
<p>A successful call to this command will result in one <a href="deposit_data_file.html">deposit data file</a> created.</p>
<h2 id="example-usage-5"><a class="header" href="#example-usage-5">Example Usage</a></h2>
<pre><code class="language-sh">./deposit partial-deposit --keystore /path/to/keystore.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="test-keystore"><a class="header" href="#test-keystore">test-keystore</a></h1>
<div class="warning">
Including sensitive arguments when executing CLI commands poses a security risk, as these values can be accessible through disk and shell history. This exposure can allow other users, including admins and malicious actors, to gain access to sensitive information, putting your funds at risk.
</div>
<h2 id="description-6"><a class="header" href="#description-6">Description</a></h2>
<p>Will verify access to the provided keystore file by attempting to decrypt it with the provided keystore password.</p>
<h2 id="optional-arguments-6"><a class="header" href="#optional-arguments-6">Optional Arguments</a></h2>
<ul>
<li>
<p><strong><code>--keystore</code></strong>: The keystore file you wish to verify.</p>
</li>
<li>
<p><strong><code>--keystore_password</code></strong>: The password used to attempt decryption of the provided keystore file. Note: It is not your mnemonic password. <span class="warning"></span></p>
</li>
</ul>
<h2 id="example-usage-6"><a class="header" href="#example-usage-6">Example Usage</a></h2>
<pre><code class="language-sh">./deposit test-keystore --keystore /path/to/keystore.json
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="keystore-file"><a class="header" href="#keystore-file">Keystore file</a></h1>
<p>A keystore file is created when calling the <strong><a href="new_mnemonic.html">new-mnemonic</a></strong> or the <strong><a href="existing_mnemonic.html">existing-mnemonic</a></strong> command.</p>
<p>The format of the keystore file is defined in the <a href="https://eips.ethereum.org/EIPS/eip-2335">ERC-2335: BLS12-381 Keystore</a> document.</p>
<p>In the context of staking on the Ethereum blockchain, the keystore file is used to store the validator signing key and transport it across devices while being protected with a password. Once created by a tool such as ethstaker-deposit-cli, it will generally be copied on a device running a validator client to be imported by that validator client with the associated password. Once the validator signing key is available to the validator client, it generally provides all the secrets needed to perform the associated validator's duties.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deposit-data-file"><a class="header" href="#deposit-data-file">Deposit Data file</a></h1>
<p>A deposit data file is created when calling the <strong><a href="new_mnemonic.html">new-mnemonic</a></strong>, the <strong><a href="existing_mnemonic.html">existing-mnemonic</a></strong> or the <strong><a href="partial_deposit.html">partial-deposit</a></strong> command.</p>
<p>The deposit data file is a JSON file that contains a list of deposits that is mostly used for the <a href="https://github.com/ethereum/staking-launchpad">Ethereum Staking Launchpad</a>. It is loosly based on <a href="https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/beacon-chain.md#depositdata">the DepositData structure</a> and the <a href="https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/deposit-contract.md#deposit-function">deposit function</a> from the <a href="https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/deposit-contract.md">deposit smart contract</a>.</p>
<h2 id="format"><a class="header" href="#format">Format</a></h2>
<p>Each deposit from the list will contain this structure:</p>
<pre><code class="language-JSON">{
    "pubkey": "string",
    "withdrawal_credentials": "string",
    "amount": "number",
    "signature": "string",
    "deposit_message_root": "string",
    "deposit_data_root": "string",
    "fork_version": "string",
    "network_name": "string",
    "deposit_cli_version": "string"
}
</code></pre>
<ul>
<li><strong>pubkey</strong>: The validator public key value to be passed to the deposit function call.</li>
<li><strong>withdrawal_credentials</strong>: The withdrawal credentials value to be passed to the deposit function call.</li>
<li><strong>amount</strong>: The deposit amount to be sent with the call to the deposit function call. This should always be 32 Ethers (in GWEI, <code>32000000000</code>) when performing a deposit for a validator to be activated. The unit for this value is GWEI. For partial deposits, this value can be an integer value higher or equal than 1 and generally lower than or equal to 2048 in Ethers.</li>
<li><strong>signature</strong>: The signature value to be passed to the deposit function call.</li>
<li><strong>deposit_message_root</strong>: A deposit message root value used for validation by the Ethereum Staking Launchpad.</li>
<li><strong>deposit_data_root</strong>: The deposit data root value to be passed to the deposit function call.</li>
<li><strong>fork_version</strong>: The fork version of the network that this deposit file was created for.</li>
<li><strong>network_name</strong>: The network name of the network that this deposit file was created for.</li>
<li><strong>deposit_cli_version</strong>: The tool version used to create this file.</li>
</ul>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<pre><code class="language-JSON">[
  {
    "pubkey":"962195958e742b8dc5b2a25adede82fc5cd661827cb1e1237025e3d7847801aa5584d5bfdc6893413264cccfbff54128",
    "withdrawal_credentials":"0007a213a9a50ddf7e00e53267af1c131ed82fec947f1c9656b54f9a20f7a87f",
    "amount":32000000000,
    "signature":"a2d56afe4540d5b506aea614848a0838b66c8707a91aa73cdb0e7b59d819f16be64881b5b621184b1668f4f1d024094a1861c5af783ded675b5763047c069c5eb805649f7c04656c96b31b0bccc34ed93c8fcd8f2e4a9e5c03453f305089d765",
    "deposit_message_root":"f9bdb1e800b8f9f0db98c77271745e3c6140f18bf420543bda84fa92c393ddc7",
    "deposit_data_root":"7cda08cd57c303f8af720b10a0852408bc31e015cb552f0029fc1024b8a1d615",
    "fork_version":"01017000",
    "network_name":"holesky",
    "deposit_cli_version":"2.7.0"
  },
  {
    "pubkey":"86ee0b826d7d5262324ace2fba4ed5f09a1cbef80552e3d945279f19bc4118a98e9a93257eb4c7731ccc10c19835d24f",
    "withdrawal_credentials":"00daf39b8996943de9e93d417a6c5a4b958e4ae7a4d6e27f72aa08d41faa012f",
    "amount":32000000000,
    "signature":"83b227d72d9f1362d8676a61b91bb3882059e89c7d862d8030b1d37e890143869c105a78efce2a734f202da95076782219010e896ec9f8328a9e553134773626810d6c455bc1250a20e52a01684c051dd3e46151587267214cbb396673a13e89",
    "deposit_message_root":"99dbb2392fef277c15e710ca0ead058c024adce15f9e8f369bbaea939c0009ed",
    "deposit_data_root":"0fcb16fdb536b00a037a3ccde67187d21abfb726d677e40709ae6910d44377a5",
    "fork_version":"01017000",
    "network_name":"holesky",
    "deposit_cli_version":"2.7.0"
  }
]
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="local-development-instructions"><a class="header" href="#local-development-instructions">Local Development Instructions</a></h1>
<p>To install the <code>ethstaker-deposit-cli</code>, follow these steps:</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>Ensure you have the following software installed on your system:</p>
<ul>
<li><strong>Git</strong>: Version control system to clone the repository. <a href="https://git-scm.com/downloads">Download Git</a></li>
<li><strong>Python 3.9+</strong>: The programming language required to run the tool. <a href="https://www.python.org/downloads/">Download Python</a></li>
<li><strong>pip</strong>: Package installer for Python, which is included with Python 3.9+.</li>
</ul>
<h2 id="local-development-steps"><a class="header" href="#local-development-steps">Local Development Steps</a></h2>
<ol>
<li>
<p><strong>Clone the Repository</strong></p>
<pre><code class="language-sh">git clone https://github.com/eth-educators/ethstaker-deposit-cli.git
</code></pre>
</li>
<li>
<p><strong>Navigate to the Project Directory</strong></p>
<pre><code class="language-sh">cd ethstaker-deposit-cli
</code></pre>
</li>
<li>
<p><strong>Setup virtualenv (optional)</strong></p>
<p>Install <code>venv</code> if not already installed, e.g. for Debian/Ubuntu:</p>
<pre><code class="language-sh">sudo apt update &amp;&amp; sudo apt install python3-venv
</code></pre>
<p>Create a new <a href="https://docs.python.org/3/library/venv.html">virtual environment</a>:</p>
<pre><code class="language-sh">python3 -m venv .venv
source .venv/bin/activate
</code></pre>
</li>
<li>
<p><strong>Install Dependencies</strong></p>
<pre><code class="language-sh">pip3 install -r requirements.txt
</code></pre>
</li>
<li>
<p><strong>Run the CLI</strong></p>
<p>You can now run the CLI tool using the following command:</p>
<pre><code class="language-sh">python3 -m ethstaker_deposit [OPTIONS] COMMAND [ARGS]
</code></pre>
</li>
<li>
<p><strong>Use pre-commit for PRs</strong></p>
<p>Install <code>pre-commit</code> if not already installed, e.g. for Debian/Ubuntu:</p>
<pre><code class="language-sh">sudo apt update &amp;&amp; sudo apt install pre-commit
</code></pre>
<p>Enable it for your <code>git commit</code> workflow:</p>
<pre><code class="language-sh">pre-commit install
</code></pre>
</li>
</ol>
<p><strong>To execute tests, you will need to install the test dependencies</strong>:</p>
<pre><code class="language-sh">python3 -m pip install -r requirements_test.txt
python3 -m pytest tests
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
